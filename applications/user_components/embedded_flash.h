/**
 ***************************** Learn software ******************************
 *
 * This file is part of LN firmware.
 * File name : embedded_flash.h
 * Arthor    : Test
 * Date      : May 3rd, 2017
 *
 ******************************************************************************
 */
 
/**
 * CHANGE LOGS
 ******************************************************************************
 * DATE            BY           DESCRIPTION
 * 2017-05-03      Test          First version.
 ******************************************************************************
 */

#ifndef __EMBEDDED_FLASH_H__
#define __EMBEDDED_FLASH_H__

/**
 ******************************************************************************
 *                                  INCLUDES
 ******************************************************************************
 */
 
#include <rtthread.h>

/**
 ******************************************************************************
 *                                   MACROS
 ******************************************************************************
 */ 

 
/**
 ******************************************************************************
 *                               TYPE DEFINITION
 ******************************************************************************
 */

/**
 * @brief  structure containing device's id and mac save in embedded flash
 */
__packed typedef struct
{
    rt_uint8_t  id_str[10];             /* device id string use in old version */
    rt_uint8_t  eth_mac[6];             /* device mac addresss */
    rt_uint16_t reserved;
    rt_uint32_t id;                     /* device id */
} device_params_t; 

/**
 ******************************************************************************
 *                              GLOBAL VARIABLES
 ******************************************************************************
 */

extern device_params_t wnc_device;
 
 /**
 ******************************************************************************
 *                              PRIVATE VARIABLES
 ******************************************************************************
 */

 
/**
 ******************************************************************************
 *                         PRIVATE FUNCTION DECLARATION
 ******************************************************************************
 */

 
/**
 ******************************************************************************
 *                         GLOBAL FUNCTION DECLARATION
 ******************************************************************************
 */

extern void         get_device_params   (void);
extern rt_err_t     save_device_params  (const rt_uint16_t * data);
extern rt_err_t     init_device_param   (void);
 
/**
 ******************************************************************************
 *                                  FUNCTIONS
 ******************************************************************************
 */

#endif /* __EMBEDDED_FLASH_H__ */
 
/* ****************************** end of file ****************************** */
