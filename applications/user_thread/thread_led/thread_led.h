/**
 ***************************** Learn software ******************************
 *
 * This file is part of LN firmware.
 * File name : thread_led.h
 * Arthor    : Test
 * Date      : May 22th, 2017
 *
 ******************************************************************************
 */
 
/**
 * CHANGE LOGS
 ******************************************************************************
 * DATE            BY           DESCRIPTION
 * 2017-05-22      Test          First version.
 ******************************************************************************
 */

#ifndef __THREAD_LED_H__
#define __THREAD_LED_H__

/**
 ******************************************************************************
 *                                  INCLUDES
 ******************************************************************************
 */
 
#include <rtthread.h>

#include "user_ipc.h"

/**
 ******************************************************************************
 *                                   MACROS
 ******************************************************************************
 */

#define RT_MQ_NAME_LED                  "mq_led"
#define RT_MQ_NUM_LED                   (10)

/* message types */
#define MSG_LED_REFRESH                 (0x4001)
#define MSG_LED_SET_LED                 (0x4002)
#define MSG_LED_TEST                    (0x4004)

enum led_state
{
    OFF = 0,
    ON,
};
 
/**
 ******************************************************************************
 *                               TYPE DEFINITION
 ******************************************************************************
 */

typedef struct ipc_base stu_led_msg;

/**
 ******************************************************************************
 *                              GLOBAL VARIABLES
 ******************************************************************************
 */

extern rt_thread_t tid_led;     /* system control thread handler */
extern rt_mq_t     mq_led;      /* system control thread message queue */
 
 /**
 ******************************************************************************
 *                              PRIVATE VARIABLES
 ******************************************************************************
 */

 
/**
 ******************************************************************************
 *                         PRIVATE FUNCTION DECLARATION
 ******************************************************************************
 */

 
/**
 ******************************************************************************
 *                         GLOBAL FUNCTION DECLARATION
 ******************************************************************************
 */

extern void rt_hw_led_init  (void);
extern void set_led         (enum led_state state, rt_uint8_t row, rt_uint8_t column);
extern void thread_led      (void* parameter);
 
/**
 ******************************************************************************
 *                                  FUNCTIONS
 ******************************************************************************
 */

#endif /* __THREAD_LED_H__ */
 
/* ****************************** end of file ****************************** */
